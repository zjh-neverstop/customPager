<html>
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html;charset=gb2312">
	<link rel="stylesheet" href="style.css">
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<script type="text/javascript" src="customPager.js"></script>
	
</head>
<body>
	<div id="resultArea">
		<div id="resultData">
		</div>
		<div id="pager" class="default-pager">
		</div>
	</div>
	<div id="ajax-loader" class="loader">
        <img src="" />
    </div>
	<script type="text/javascript">

	//实例化分页器
	var pager = CustomPager(10);
	//为了测试这里直接指定数据总数，实际应该从服务器获取
	pager.totalCount = 1000;

	/*-- click模式 --*/
	
	pager.pageMode = "click";   //ajax方式获取数据需要将pageMode设置为click模式
	//通过ajax方式获取分页数据后的回调函数，可以在该方法中处理显示逻辑，绑定模板之类的
	pager.pageCallback = function(result){ 
		//TODO 
	};
	//设置当前页，并通过ajax方式获取该页数据
	pager.getPagedData(1);
	
	
	/*-- link模式 --*/
	/*var pageIndex = getQueryStringByName("page") || 1;
	//跳转基地址，这里是测试数据，如果你下载了该类库，需要演示的话请把下面的baseUrl替换为你存放example.html的绝对路径
	pager.baseUrl = "file:///F:/baiduGit/customPager/example.html";  
	//直接设置当前页，如果使用href方式翻页，需要使用该方法
	pager.setCurrentIndex(pageIndex);*/

	function getQueryStringByName(name) {
        var result = location.search.match(new RegExp("[\?\&]" + name + "=([^\&]+)", "i"));
        if (result == null || result.length < 1) {
            return "";
        }
        return result[1];
    }
	</script>
</body>
</html>
